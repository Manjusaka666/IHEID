# Internal Mapping

## Manuscript-to-Output Mapping (auditable)

| Manuscript item (LaTeX label) | Exact source path in repo (under `results/`) |
|---|---|
| Table `tab:rmsfe` | `results/latex_tables/tab_rmsfe.tex` (numerical entries). Notes in the manuscript override the auto-generated notes to keep definitions aligned with code. |
| Table `tab:cg_regression` | `results/latex_tables/tab_cg_regression.tex` (numerical entries). Notes in the manuscript override the auto-generated notes to preserve diagnostic (non-structural) interpretation. |
| Table `tab:clark_west` (appendix) | `results/latex_tables/clark_west_tests.tex` |
| Figure `fig:relrmsfe` | `results/figures/fig2_relative_rmsfe.png` |
| Figure `fig:cg_coeff` | `results/figures/fig3_cg_coefficients.png` |
| Figure `fig:delta_beta` (appendix) | `results/figures/fig4_delta_beta_overreaction.png` |
| Figure `fig:lambda` | `results/figures/fig5_lambda_evolution.png` |
| Figure `fig:rolling_rw` (appendix) | `results/figures/fig_rolling_relative_rmsfe_rw.png` |
| Figure `fig:error_decomp` (appendix) | `results/figures/fig_error_decomposition.png` |
| Figure `fig:rolling_ar1` (appendix) | `results/figures/fig_rolling_relative_rmsfe_ar1.png` |
| Figure `fig:robustness_rw` (appendix) | `results/figures/fig_robustness_relative_rmsfe_rw.png` |
| Figure `fig:robustness_ar1` (appendix) | `results/figures/fig_robustness_relative_rmsfe_ar1.png` |
| Figure `fig:cpi_forecast_paths` (appendix) | `results/figures/fig6a_forecast_vs_actual_h1.png`; `results/figures/fig6b_forecast_vs_actual_h3.png`; `results/figures/fig6c_forecast_vs_actual_h12.png` |
| Figure `fig:timing_diag` (appendix) | `results/figures/fig6d_timing_diagnostic_h1.png`; `results/figures/fig6e_timing_diagnostic_h3.png`; `results/figures/fig6f_timing_diagnostic_h12.png` |
| Figure `fig:cg_scatter` (appendix) | `results/figures/fig7a_cg_scatter_h1.png`; `results/figures/fig7b_cg_scatter_h3.png`; `results/figures/fig7c_cg_scatter_h12.png` |

## Lambda Handling Audit (`\\lambda` / prior tightness)

- **What `\\lambda` is in the code:** Minnesota prior overall tightness hyperparameter in `code/04_bvar_estimation.R` (`setup_hierarchical_priors()`) and `code/05_recursive_forecasting.R` (`priors_config <- bv_priors(hyper = "auto", ...)` with `bv_lambda(...)` inside `bv_mn(...)`).
- **Fixed vs learned:** `\\lambda` is not fixed. It is treated as a hyperparameter and updated within the `BVAR` hierarchical prior-selection routine (`mh = bv_mh()`), producing posterior draws stored in `bvar_fit$hyper`.
- **Hyperprior (no numbers in prose):** the code specifies a proper hyperprior family and bounds for `\\lambda` via `bv_lambda(mode = ..., sd = ..., min = ..., max = ...)`, with the numerical settings read from options (defaults are in the code). The manuscript does not state those numeric settings; it treats them as implementation details anchored to the audited code.
- **Time variation:** `\\lambda` is updated at each recursive forecast origin; `code/05_recursive_forecasting.R` computes `hyper_means <- colMeans(bvar_fit$hyper)` and stores `hyperparameters$lambda` per origin.
- **Where `\\lambda` is output:** `results/forecasts/hyperparameters_evolution.csv` (written by `code/05_recursive_forecasting.R`), plotted as Figure `fig:lambda` in `results/figures/fig5_lambda_evolution.png` (generated by `code/08_visualization.R`).
- **Related hyperparameters:** `alpha` is recorded in `code/05_recursive_forecasting.R` as the fixed `alpha_mode` setting; `psi` is configured as `"auto"` and is recorded when returned by the `BVAR` hyperparameter draws (the saved CSV may contain missing values depending on the returned hyperparameter vector).
- **Interpretation discipline in the paper:** any mention of `\\lambda` is framed as statistical regularization chosen by the forecasting system, not as an economic mechanism. Empirical discussion of `\\lambda` in the manuscript points only to Figure `fig:lambda` and `results/forecasts/hyperparameters_evolution.csv`.

## Information-Set Audit (Small / Medium / Full)

- **Code definitions:** `code/02_data_acquisition.R` and `code/03_data_transformation.R` define nested sets: Small = `INDPRO`, `CPIAUCSL`, `UNRATE`, `FEDFUNDS`; Medium = Small + `GS10`, `SP500`, `DCOILWTICO`; Full = Medium + `UMCSENT`.
- **Paper alignment rule:** all occurrences of “Small/Medium/Full” in `ForecastingHorseRace.tex` and `ForecastingHorseRace_submission.tex` match these definitions; table/figure discussion uses these names as labels tied to the mapped outputs above.

## Paragraph-to-Code/Output Trace (`\\lambda` and diagnostics)

| Manuscript location cue | Code anchor | Output anchor |
|---|---|---|
| Prior setup and hierarchical shrinkage description | `code/04_bvar_estimation.R` (`setup_hierarchical_priors()`, `estimate_bvar_model()`); `code/05_recursive_forecasting.R` (`priors_config`, `mh = bv_mh()`) | `results/forecasts/hyperparameters_evolution.csv`; Figure `fig:lambda` |
| Recursive pseudo-out-of-sample design | `code/05_recursive_forecasting.R` (`forecast_origins`, `run_model_forecasts()`) | `results/forecasts/*_model_forecasts.rds` |
| Accuracy evaluation and nested-model inference caveat | `code/06_forecast_evaluation.R` (RMSFE, relative RMSFE, DM tests, Clark--West) | `results/latex_tables/tab_rmsfe.tex`; `results/figures/fig2_relative_rmsfe.png`; `results/latex_tables/clark_west_tests.tex` |
| Revision diagnostic (CG-style regression) as model-updating check | `code/07_cg_regression.R` (`estimate_cg()`, `run_cg_model()`) | `results/latex_tables/tab_cg_regression.tex`; `results/figures/fig3_cg_coefficients.png` |

## Numerical Integrity Rule

All quantitative values in the paper are contained exclusively in the referenced tables/figures generated by the existing pipeline; the prose contains no standalone numeric claims. Any quantitative statement in the prose must point to a mapped item.
